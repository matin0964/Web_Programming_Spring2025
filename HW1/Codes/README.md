# گزارش پروژه برنامه‌سازی وب

## 1. توضیحات مربوط به صفحات HTML

پروژه شامل چهار صفحه HTML است که هر یک برای هدفی خاص طراحی شده‌اند:

### 1.1. index.html
- **هدف**: صفحه اصلی که نمای کلی از سه ابزار محاسباتی (میوه‌فروشی، مدرسه، استخر) را ارائه می‌دهد.
- **محتوا**:
  - **هدر**: شامل عنوان "محاسبه‌گر" و منوی ناوبری با لینک به صفحات دیگر.
  - **بخش اصلی**:
    - **میوه‌فروشی**: محاسبه پرداختی مشتری با ورودی‌های قیمت، تعداد و تخفیف. فرمول: `count * fee * (100 - discount) / 100`.
    - **مدرسه**: محاسبه درآمد مدرسه با ورودی‌های تعداد دانش‌آموزان، شهریه، تعداد کارکنان و حقوق ماهانه. فرمول: `number_of_students * tuition - 12 * (number_of_staff * wage)`.
    - **استخر**: محاسبه حجم آب مورد نیاز با در نظر گرفتن پله‌ها. فرمول: `depth * width * length - 0.5 * width * 1`.
  - **فوتر**: شامل اطلاعات کپی‌رایت و تماس.

### 1.2. formula1.html
- **هدف**: ابزار محاسباتی پیشرفته برای میوه‌فروشی.
- **محتوا**:
  - **هدر**: عنوان "میوه‌فروشی" و منوی ناوبری.
  - **بخش اصلی**: فیلدهای ورودی برای قیمت و تعداد سه محصول (سیب، پرتقال، موز) و تخفیف. فرمول: `(price1 * quantity1 + price2 * quantity2 + price3 * quantity3) * (100 - discount)`.
  - **فوتر**: مشابه صفحه اصلی.

### 1.3. formula2.html
- **هدف**: محاسبه دقیق درآمد مدرسه.
- **محتوا**:
  - **هدر**: عنوان "مدرسه" و منوی ناوبری.
  - **بخش اصلی**: ورودی‌های تعداد دانش‌آموزان، شهریه، تعداد معلمان، حقوق معلمان، تعداد ناظمان، حقوق ناظمان، تعداد نیروهای خدماتی و حقوق آن‌ها. فرمول: `students * tuition - 12 * (teachers * teachers_salary + moderators * moderators_salary + servers * servers_salary)`.
  - **فوتر**: مشابه صفحه اصلی.

### 1.4. formula3.html
- **هدف**: محاسبه هزینه پر کردن استخر.
- **محتوا**:
  - **هدر**: عنوان "استخر" و منوی ناوبری.
  - **بخش اصلی**: ورودی‌های حجم استخر و هزینه انتقال هر واحد آب. فرمول: `capacity * price_per_unit`.
  - **فوتر**: مشابه صفحه اصلی.

## 2. منطق کاری فایل `script.js`

فایل `script.js` حاوی یک کلاس به نام `FormulaEvaluator` است که فرمول‌ها را به صورت پویا ارزیابی می‌کند:

- **constructor**:
  - فرمول را از ویژگی `evaluator` تگ `<formula>` استخراج می‌کند.
  - یک عنصر `div` برای نمایش نتیجه ایجاد کرده و جایگزین تگ `<formula>` می‌کند.
  - ورودی‌ها را استخراج و رویدادها را متصل می‌کند.

- **extractInputs**:
  - با استفاده از regex (`/[a-zA-Z_]+/g`)، شناسه‌های ورودی را از فرمول پیدا می‌کند.
  - عناصر ورودی را در یک شیء ذخیره می‌کند.

- **bindEvents**:
  - رویداد `input` را به هر ورودی متصل می‌کند تا با تغییر مقادیر، نتیجه به‌روزرسانی شود.

- **isValidNumber**:
  - بررسی می‌کند که آیا مقدار ورودی عددی معتبر است.

- **updateResult**:
  - مقادیر ورودی را به اعداد تبدیل می‌کند.
  - فرمول را با استفاده از `new Function` ارزیابی کرده و نتیجه را با دو رقم اعشار نمایش می‌دهد.
  - در صورت خطا (مثلاً ورودی نامعتبر)، پیام "فرمول نامعتبر" نشان داده می‌شود.

- **initializeFormulas**:
  - هنگام بارگذاری صفحه، تمام تگ‌های `<formula>` را پیدا کرده و برای هر یک نمونه‌ای از `FormulaEvaluator` می‌سازد.

## 3. توضیحات فایل `style.css`

فایل `style.css` برای زیبا‌سازی و یکپارچگی ظاهری صفحات استفاده شده است:

- **body**:
  - فونت Arial، پس‌زمینه گرادیان (آبی روشن به بنفش روشن)، رنگ متن تیره، و چیدمان عمودی با flexbox.

- **header**:
  - پس‌زمینه سبز، متن سفید، سایه، و فونت بزرگ.

- **nav**:
  - پس‌زمینه تیره، متن سفید، چیدمان افقی با flexbox، و جهت راست‌به‌چپ.

- **nav ul li a**:
  - لینک‌ها با رنگ سفید، بدون زیرخط، و افکت hover برای تغییر رنگ پس‌زمینه.

- **main**:
  - پدینگ، حداکثر عرض 800px، مرکزیت، پس‌زمینه سفید با شفافیت، و سایه.

- **footer**:
  - پس‌زمینه سبز، متن سفید، موقعیت ثابت در پایین، و سایه.

- **.explanation**:
  - متن راست‌چین، فونت Times New Roman، و رنگ تیره.

- **.formula_handler**:
  - پس‌زمینه آبی روشن، حاشیه، پدینگ، و سایه.

- **.formula_handler input**:
  - فیلدهای ورودی با عرض کامل، حاشیه، و پدینگ.

- **.formula-result**:
  - نتیجه با فونت bold و رنگ مشکی.

- **#div1 تا #div6**:
  - هر div با نوار رنگی در سمت چپ برای تمایز (navy، سبز، قرمز، نارنجی، بنفش، فیروزه‌ای).

- **Media Queries**:
  - تنظیمات responsive برای عرض‌های کمتر از 768px (منوی عمودی) و 480px (کاهش اندازه فونت).

## 4. ابزارهای کمکی استفاده‌شده

در این پروژه از ابزارها و تکنیک‌های زیر استفاده شده است:

- **Cloudflare**:
  - اسکریپت `email-decode.min.js` برای محافظت از ایمیل.
  - اسکریپت `main.js` برای چالش‌های امنیتی.

- **DOM Manipulation**:
  - استفاده از `querySelectorAll` و `getElementById` برای دسترسی به عناصر.
  - `addEventListener` برای مدیریت رویدادها.

- **JavaScript ES6+**:
  - کلاس‌ها، arrow functions، و template literals برای کدنویسی مدرن.

- **CSS Flexbox**:
  - چیدمان منو و بخش‌های صفحه.

- **Regex**:
  - استخراج شناسه‌های ورودی از فرمول‌ها.

---

# نتیجه‌گیری

این پروژه یک ابزار محاسباتی وب چندمنظوره است که با HTML، CSS و JavaScript پیاده‌سازی شده است. چهار صفحه HTML برای سناریوهای مختلف طراحی شده‌اند و فایل `script.js` فرمول‌ها را به صورت پویا محاسبه می‌کند. فایل `style.css` ظاهری زیبا و responsive ارائه داده و ابزارهای کمکی مانند Cloudflare و تکنیک‌های مدرن، کارایی و امنیت پروژه را بهبود بخشیده‌اند.
